<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Evaluación Sensorial de Ron</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h2>Evaluación Sensorial de Ron</h2>
    <form method="POST">
        <div class="evaluador-info">
            <label for="nombre">Nombre y Apellido:</label>
            <input type="text" id="nombre" name="nombre" value="{{ nombre }}" required>
        </div>
        {% for ron in rones %}
        <div class="ron-box">
            <h3>Ron {{ ron }}</h3>
            <div class="scroll-table">
                <table>
                    <thead>
                        <tr>
                            <th>Categoría</th>
                            <th>Subcriterio</th>
                            <th>Descripción</th>
                            <th>Puntaje</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- VISTA -->
                        <tr>
                            <td rowspan="1"><b>VISTA</b></td>
                            <td><b>PUREZA</b></td>
                            <td>Limpidez, sin partículas</td>
                            <td>
                                <select name="pureza_{{ ron }}">
                                    {% for val in puntajes.pureza %}
                                    <option value="{{ val }}" {% if resultados.get(ron, {}).get('pureza') == val %}selected{% endif %}>{{ val }}</option>
                                    {% endfor %}
                                </select>
                            </td>
                        </tr>
                        <!-- OLFATO -->
                        <tr>
                            <td rowspan="2"><b>OLFATO</b></td>
                            <td><b>INTENSIDAD</b></td>
                            <td>Fuerza y persistencia del aroma</td>
                            <td>
                                <select name="olfato_intensidad_{{ ron }}">
                                    {% for val in puntajes.olfato_intensidad %}
                                    <option value="{{ val }}" {% if resultados.get(ron, {}).get('olfato_intensidad') == val %}selected{% endif %}>{{ val }}</option>
                                    {% endfor %}
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td><b>COMPLEJIDAD</b></td>
                            <td>Variedad de aromas, elegancia y finura</td>
                            <td>
                                <select name="olfato_complejidad_{{ ron }}">
                                    {% for val in puntajes.olfato_complejidad %}
                                    <option value="{{ val }}" {% if resultados.get(ron, {}).get('olfato_complejidad') == val %}selected{% endif %}>{{ val }}</option>
                                    {% endfor %}
                                </select>
                            </td>
                        </tr>
                        <!-- GUSTO -->
                        <tr>
                            <td rowspan="3"><b>GUSTO</b></td>
                            <td><b>INTENSIDAD</b></td>
                            <td>Fuerza de los sabores y primera entrada</td>
                            <td>
                                <select name="gusto_intensidad_{{ ron }}">
                                    {% for val in puntajes.gusto_intensidad %}
                                    <option value="{{ val }}" {% if resultados.get(ron, {}).get('gusto_intensidad') == val %}selected{% endif %}>{{ val }}</option>
                                    {% endfor %}
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td><b>COMPLEJIDAD</b></td>
                            <td>Variedad de sabores, elegancia y finura</td>
                            <td>
                                <select name="gusto_complejidad_{{ ron }}">
                                    {% for val in puntajes.gusto_complejidad %}
                                    <option value="{{ val }}" {% if resultados.get(ron, {}).get('gusto_complejidad') == val %}selected{% endif %}>{{ val }}</option>
                                    {% endfor %}
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td><b>PERSISTENCIA</b></td>
                            <td>Duración de la sensación remanente en la boca</td>
                            <td>
                                <select name="gusto_persistencia_{{ ron }}">
                                    {% for val in puntajes.gusto_persistencia %}
                                    <option value="{{ val }}" {% if resultados.get(ron, {}).get('gusto_persistencia') == val %}selected{% endif %}>{{ val }}</option>
                                    {% endfor %}
                                </select>
                            </td>
                        </tr>
                        <!-- JUICIO GLOBAL -->
                        <tr>
                            <td rowspan="1"><b>JUICIO GLOBAL</b></td>
                            <td><b>ARMONÍA</b></td>
                            <td>Apreciación General</td>
                            <td>
                                <select name="armonia_{{ ron }}">
                                    {% for val in puntajes.armonia %}
                                    <option value="{{ val }}" {% if resultados.get(ron, {}).get('armonia') == val %}selected{% endif %}>{{ val }}</option>
                                    {% endfor %}
                                </select>
                            </td>
                        </tr>
                        <!-- TOTAL -->
                        <tr class="total-row">
                            <td colspan="3"><b>VALORACIÓN TOTAL</b></td>
                            <td><b>{{ resultados.get(ron, {}).get('total', '') }}</b></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <button type="submit" name="calcular_ron" value="{{ ron }}" class="calcular-btn">Calcular Ron {{ ron }}</button>
        </div>
        <br>
        {% endfor %}
        <div class="notas">
            <label for="notas">NOTAS DE CATA:</label>
            <textarea name="notas" id="notas" rows="3">{{ notas }}</textarea>
        </div>
    </form>
</body>
</html> 